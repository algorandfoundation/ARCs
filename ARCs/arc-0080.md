---
arc: 80
title: Authentication with JSON Web Token (JWT)
description: A specification that outlines authentication with JSON Web Tokens (JWT).
author: Kieran O'Neill (@kieranroneill)
status: Draft
type: Standards Track
category: Interface
created: 2024-02-12
---

# Authentication with JSON Web Token (JWT)

## Abstract

JSON Web Tokens (JWTs) were proposed in the specification [RFC 7519][rfc-7519] and are a popular format that represent a claim that can be transferred between two parties. 

This proposal aims to build upon the JWT standard, but with a focus on using JWTs within the context of an Algorand account; a public/private key pair using Ed25519 elliptic-curve signatures.

## Motivation

Authentication is a wide-ranging subject, and it's implementation can be done in many different ways. This proposal does not aim to enforce a defacto authentication method for Algorand, but merely outlines a popular authentication method: JSON Web Token (JWT), within the context of an Algorand account.

The intention of this proposal is to live alongside other authentication methods.

## Specification

The key words "**MUST**", "**MUST NOT**", "**REQUIRED**", "**SHALL**", "**SHALL NOT**", "**SHOULD**", "**SHOULD NOT**", "**RECOMMENDED**", "**MAY**", and "**OPTIONAL**" in this document are to be interpreted as described in <a href="https://www.ietf.org/rfc/rfc2119.txt">RFC-2119</a>.

> Comments like this are non-normative.

### Definitions

This section is non-normative.

* Claim
  - A piece of information asserted about a subject, represented as a name/value pair.
* JSON Web Algorithms (JWA)
  - A registered list of cryptographic algorithms by the [IANA][iana-jwa-list]; it represents the allowed values of the `"alg"` parameter of a JSON Web Token (JWT)'s header.
* JSON Web Key (JWK)
  - A JSON object that represents the structure of the cryptographic mechanism using the JSON Web Signature (JWS).
* JSON Web Signature (JWS)
  - Represents a content signature signed with a cryptographic mechanism.
* JSON Web Token (JWT)
  - A JSON object, with a set of claims, encoded in a JSON Web Signature (JWS).

### Overview

JSON Web Token (JWT) is an open standard ([RFC 7519][rfc-7519]) that allows a compact, URL-safe means of representing claims that can be transferred between two parties.

A JWT consists of three parts separated by dots (`.`): 

* Header - contains information about the type of token and the signing algorithm used.
* Payload - contains the claims, which are statements about an entity (typically, the user) and additional data.
* Signature - is used to verify that the sender of the JWT is who it says it is and to ensure that the message wasn't changed along the way.

Therefore, a JWT will look like the following:
```
header.payload.signature
```

> ⚠️ **NOTE**: Each part of the JWT **MUST** be encoded using base64URL ([RFC 4648][rfc-4648-section-5]) encoding.

### Header

An Algorand address is essentially a transformed public key of a key pair that was created using an EdDSA signature with the Curve25519; or Ed25519 for short.

In order for EdDSA keys to be encoded as a JWK, the standard [RFC 8037][rfc-8037] introduced a new key type: "OKP" (Octet Key Pair), that outlines use of public key algorithms, namely Ed25519 ([RFC 8032][rfc-8032]), with a JOSE header.

When constructing the header for a JWT for Algorand accounts, the header must conform to the following:
```json
{
  "alg": "EdDSA",
  "crv": "Ed25519",
  "kty": "OKP",
  "typ": "JWT",
  "x": "VEji5WHLRFmFuONhBmMnflYhHj7xVZ2OD748FF7r5hE="
}
```
where:
* `alg`:
  - **REQUIRED** as per [RFC 7515 section 4.1.1.][rfc-7515-section-411] that defines the cryptographic algorithm used to create an JWS.
  - **MUST** be `EdDSA` to indicate an Edwards-curve Digital Signature Algorithm (EdDSA) as used by Algorand accounts.
* `crv`:
  - **REQUIRED** as per [RFC 8037 section 2][rfc-8037-section-2]
  - **MUST** be `Ed25519` to indicate the name of the curve, which is Curve25519 for Algorand accounts.
* `kty`:
  - **OPTIONAL** the `"alg"` parameter is sufficient to infer the JWK.
  - **MUST** be `OKP` as specified in [RFC 8037][rfc-8037] for EdDSA keys.
* `typ`:
  - **OPTIONAL** as applications usually know this is a JWT.
  - **RECOMMENDED** to be `JWT` to indicate this is a JWT.
* `x`:
  - **REQUIRED** as per [RFC 8037 section 2][rfc-8037-section-2] and to verify the signature has been signed with the correct private key of an Algorand account.
  - **MUST** be the public key of an Algorand account, encoded using the base64URL ([RFC 4648][rfc-4648-section-5]) encoding.

### Payload



### Signature



## Rationale



## Reference Implementation

<!-- TODO: show exmaples using `jsonwebtoken`, `tweetnacl.js` and `crypto` -->

## Security Considerations

None.

## Copyright
Copyright and related rights waived via <a href="https://creativecommons.org/publicdomain/zero/1.0/">CCO</a>.

<!-- links -->
[iana-jwa-list]: https://www.iana.org/assignments/jose/jose.xhtml#web-signature-encryption-algorithms
[rfc-4648-section-5]: https://datatracker.ietf.org/doc/html/rfc4648#section-5
[rfc-7515-section-411]: https://datatracker.ietf.org/doc/html/rfc7515#section-4.1.1
[rfc-7519]: https://datatracker.ietf.org/doc/html/rfc7519
[rfc-8032]: https://datatracker.ietf.org/doc/html/rfc8032
[rfc-8037]: https://datatracker.ietf.org/doc/html/rfc8037
[rfc-8037-section-2]: https://datatracker.ietf.org/doc/html/rfc8037#section-2
